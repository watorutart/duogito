# Duogito MVP 要件定義書

## 概要

「Write Code Every Day」の習慣化をサポートするプログラミング版Duolingoツール。MVPとして、GitHubのcontributionsが今日までに連続で何日間できているかを表示し、プログラミング習慣のモチベーション維持を支援する。

## ユーザストーリー

### ストーリー1: コーディング継続日数の確認

- **として** プログラミングを日常習慣化したい開発者
- **私は** 自分のGitHubコントリビューションの連続日数を簡単に確認したい
- **そうすることで** コーディング習慣の継続状況を把握し、モチベーションを維持できる

### ストーリー2: 継続への意識向上

- **として** コーディング習慣を身につけたい開発者
- **私は** 毎日の進捗を視覚的に把握したい
- **そうすることで** 継続への意識を高め、習慣化を促進できる

### ストーリー3: 簡単なアクセス

- **として** 忙しい開発者
- **私は** 簡単な操作で継続日数を確認したい
- **そうすることで** 日常のワークフローに組み込みやすくなる

## 機能要件（EARS記法）

### 通常要件

- REQ-001: システムはGitHubのユーザ名を受け取って認証しなければならない
- REQ-002: システムはGitHub APIを使用してユーザのcontributionsデータを取得しなければならない
- REQ-003: システムは今日までの連続コントリビューション日数を計算しなければならない
- REQ-004: システムは連続日数を分かりやすい形式で表示しなければならない
- REQ-005: システムはコマンドライン形式またはシンプルなWeb UIで実行できなければならない

### 条件付き要件

- REQ-101: ユーザがGitHubにコントリビューションしていない場合、システムは連続日数を0日として表示しなければならない
- REQ-102: GitHubのAPIレート制限に達した場合、システムは適切なエラーメッセージを表示しなければならない
- REQ-103: 無効なGitHubユーザ名が入力された場合、システムはエラーメッセージを表示しなければならない
- REQ-104: ネットワークエラーが発生した場合、システムは再試行またはエラーメッセージを表示しなければならない

### 状態要件

- REQ-201: 初回実行時にある場合、システムはユーザにGitHubユーザ名の入力を求めなければならない
- REQ-202: 連続日数が0日の場合、システムは励ましのメッセージを表示しなければならない
- REQ-203: 連続日数が一定数（例：7日、30日、100日）に達した場合、システムは達成メッセージを表示しなければならない

### オプション要件

- REQ-301: システムは過去の連続記録（最長記録）を表示してもよい
- REQ-302: システムはコントリビューションの種類（コミット、プルリクエスト等）を区別してもよい
- REQ-303: システムは設定ファイルでユーザ名を保存してもよい

### 制約要件

- REQ-401: システムはGitHub APIの利用規約を遵守しなければならない
- REQ-402: システムはユーザのプライベート情報を保存してはならない
- REQ-403: システムはGitHubの公開されているcontributionsデータのみを使用しなければならない

## 非機能要件

### パフォーマンス

- NFR-001: システムはユーザからの要求に対して5秒以内に結果を表示しなければならない
- NFR-002: システムはGitHub APIの呼び出し回数を最小限に抑えなければならない

### セキュリティ

- NFR-101: システムはGitHubのパーソナルアクセストークンを安全に管理しなければならない
- NFR-102: システムはユーザの認証情報をローカル以外に保存してはならない

### ユーザビリティ

- NFR-201: システムは技術的な知識がないユーザでも簡単に使用できなければならない
- NFR-202: システムはエラーメッセージを日本語で分かりやすく表示しなければならない
- NFR-203: システムは実行結果を視覚的に分かりやすく表示しなければならない

### 保守性

- NFR-301: システムはGitHub APIの仕様変更に対応できる構造でなければならない
- NFR-302: システムは将来的な機能拡張に対応できる設計でなければならない

## Edgeケース

### エラー処理

- EDGE-001: GitHub APIが利用できない場合の代替動作
- EDGE-002: 極端に長い連続記録（1000日以上）の表示処理
- EDGE-003: タイムゾーンの違いによる日付判定の処理
- EDGE-004: GitHub側のcontributionsカウントロジック変更への対応

### 境界値

- EDGE-101: 連続日数が0日の場合の表示
- EDGE-102: 今日がcontributionsの最初の日の場合（1日目）
- EDGE-103: 平日のみ、週末のみのcontributionsパターン
- EDGE-104: 異なる時間帯での複数コントリビューション

### データ処理

- EDGE-201: GitHubのcontributionsが非公開設定の場合
- EDGE-202: 組織のプライベートリポジトリのみにcontributionsがある場合
- EDGE-203: GitHubアカウントが削除または非アクティブの場合

## 受け入れ基準

### 機能テスト

- [ ] 有効なGitHubユーザ名で正しい連続日数が表示される
- [ ] 無効なユーザ名でエラーメッセージが表示される
- [ ] コントリビューションがないユーザで0日が表示される
- [ ] ネットワークエラー時に適切なエラーハンドリングが動作する
- [ ] 初回実行時にユーザ名入力が求められる
- [ ] 連続記録が途切れた場合に正しく0からカウントされる
- [ ] 今日のコントリビューションが正しく反映される

### 非機能テスト

- [ ] レスポンス時間が5秒以内
- [ ] GitHub APIレート制限に適切に対応
- [ ] エラーメッセージが日本語で表示される
- [ ] 結果が視覚的に分かりやすく表示される
- [ ] 異なるタイムゾーンでの動作確認

### ユーザビリティテスト

- [ ] 技術的知識のないユーザが説明書なしで使用できる
- [ ] 実行コマンドが直感的で覚えやすい
- [ ] 結果画面が一目で理解できる

### セキュリティテスト

- [ ] 認証情報が適切に保護される
- [ ] プライベート情報が外部に送信されない
- [ ] GitHub APIの利用規約を遵守している

## 技術仕様

### 推奨技術スタック

- **フロントエンド**: TypeScript + React (Web UI版) または CLI (Node.js)
- **API**: GitHub REST API v4 または GraphQL API
- **認証**: GitHub Personal Access Token
- **データ処理**: 日付計算とcontributionsパターン解析

### APIエンドポイント

- GitHub Contributions API: `https://api.github.com/users/{username}/events`
- GitHub GraphQL API: contributionsCollection

### データ構造

```typescript
interface ContributionStreak {
  currentStreak: number;
  lastContributionDate: string;
  longestStreak?: number;
  achievementMessages: string[];
}
```

## 実装優先度

1. **High**: 基本的な連続日数計算と表示 (REQ-001〜005)
2. **Medium**: エラーハンドリングと状態管理 (REQ-101〜104, REQ-201〜203)
3. **Low**: オプション機能とUI改善 (REQ-301〜303)

## 成功指標

- ユーザが自分の連続コーディング日数を正確に把握できる
- ツールの使用によってコーディング習慣の継続率が向上する
- 1日1回以上の確認頻度でモチベーション維持に貢献する